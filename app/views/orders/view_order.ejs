<%include ../partials/header.ejs %>

<div class="container" id="order-invoice">
    <h1><%=title%></h1>
    <button class="btn btn-light float-right">Print</button>
    
    <h4>Order ID:<%=orderData[0].orderID %></h3>
    <h4>Quantity: <%=orderData[0].totalQuantity %></h3>
    <h4>Time: <%=orderData[0].orderTime %></h3>
    <% if (orderData[0].orderFulfilled === 0) { %>
        <% console.log(orderData[0].orderFulfilled) %>
        <a href="/orders/fulfill/<%=orderData[0].orderID%>" button class="btn btn-primary float-right">Fulfill Order</a> 
    <% } else { %>
        <a button class="btn btn-success float-right">Order Fulfilled</a> 
    <% } %>
    <br>
    <div class="data-table">
        <table class="table table-striped">
            <thead class="thead-inverse">
                <tr>
                    <th>#</th>
                    <th>Item ID</th>
                    <th>Manufacturer</th>
                    <th>Name</th>
                    <th>Model</th>
                    <th>Quantity</th>
                    <th></th>
                </tr>
            </thead>

            <tbody id="orders_item_table">
                <% if(itemData.length){
                    for (var i = 0; i < itemData.length; i++) { %>
                    <tr>
                        <td><%=(i+1)%></td>
                        <td><%=itemData[i].itemID%></td>
                        <td><%=itemData[i].manufacturerName%></td>
                        <td><%=itemData[i].name%></td>
                        <td><%=itemData[i].model%></td>
                        <td><%=itemData[i].quantityOrdered%></td>
                    </tr>
    
                    <%  }
                }else{ %>
                    <tr>
                        <td>No Items</td>
                    </tr>
                <% } %>
            </tbody>

        </table>
    </div>
</div>

<%include ../partials/footer.ejs %>